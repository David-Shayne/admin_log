{"version":3,"sources":["reducers/usersReducer.js","actions/types.js","reducers/root.js","store.js","components/AppNavbar.js","actions/userActions.js","components/UserList.js","components/UserModal.js","App.js","index.js"],"names":["initialState","users","loading","usersReducer","state","action","type","payload","filter","user","_id","rootReducer","combineReducers","userState","middleware","thunk","store","createStore","composeWithDevTools","applyMiddleware","AppNavbar","isOpen","toggle","setState","console","log","Navbar","color","dark","expand","className","Container","NavbarBrand","href","NavbarToggler","onClick","this","Collapse","navbar","Nav","NavItem","NavLink","Component","dispatch","UserList","props","getUsers","list","map","username","email","status","Button","deleteUser","Table","style","marginTop","Spinner","hidden","margin","scope","connect","Axios","get","then","res","data","delete","UserModal","warningUsername","warningEmail","bind","onChange","submit","e","target","name","value","preventDefault","hasWhitespace","test","addUser","toLowerCase","Modal","ModalHeader","Form","ModalBody","FormGroup","Label","for","Input","Alert","width","fontSize","string","indexOf","post","App","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.02be5597.chunk.js","sourcesContent":["import { GET_USERS, LOADING, DELETE_USER, ADD_USER } from '../actions/types';\r\n\r\nconst initialState = {\r\n    users: [],\r\n    loading: false\r\n};\r\n\r\nconst usersReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case LOADING:\r\n            return {\r\n                ...state,\r\n                loading: true\r\n            };\r\n\r\n        case GET_USERS:\r\n            return {\r\n                ...state,\r\n                users: action.payload,\r\n                loading: false\r\n            };\r\n\r\n        case DELETE_USER:\r\n            return {\r\n                ...state,\r\n                users: state.users.filter(user => user._id !== action.payload)\r\n            };\r\n\r\n        case ADD_USER:\r\n            return {\r\n                ...state,\r\n                users: [...state.users, action.payload]\r\n            };\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\nexport default usersReducer;\r\n","export const GET_USERS = 'GET_USERS';\r\nexport const LOADING = 'LOADING';\r\nexport const DELETE_USER = 'DELETE_USER';\r\nexport const ADD_USER = 'ADD_USER';\r\n","import { combineReducers } from 'redux';\r\nimport usersReducer from './usersReducer';\r\n\r\nconst rootReducer = combineReducers({ userState: usersReducer });\r\n\r\nexport default rootReducer;\r\n","import thunk from 'redux-thunk';\r\nimport { createStore, applyMiddleware } from 'redux';\r\nimport { composeWithDevTools } from 'redux-devtools-extension';\r\nimport rootReducer from './reducers/root';\r\n\r\nconst middleware = [thunk];\r\n\r\nconst store = createStore(\r\n    rootReducer,\r\n    composeWithDevTools(applyMiddleware(...middleware))\r\n);\r\n\r\nexport default store;\r\n","import React, { Component } from 'react';\r\nimport {\r\n    Collapse,\r\n    Navbar,\r\n    NavbarToggler,\r\n    NavbarBrand,\r\n    Nav,\r\n    NavItem,\r\n    NavLink,\r\n    Container\r\n} from 'reactstrap';\r\n\r\nclass AppNavbar extends Component {\r\n    state = {\r\n        isOpen: false\r\n    };\r\n\r\n    toggle = () => {\r\n        this.setState({\r\n            isOpen: !this.state.isOpen\r\n        });\r\n        console.log(this.state.isOpen);\r\n    };\r\n\r\n    render() {\r\n        return (\r\n            <div>\r\n                <Navbar color=\"dark\" dark expand=\"sm\" className=\"mb-5\">\r\n                    <Container>\r\n                        <NavbarBrand href=\"/\">Admin Logs</NavbarBrand>\r\n                        <NavbarToggler onClick={this.toggle}></NavbarToggler>\r\n                        <Collapse isOpen={this.state.isOpen} navbar>\r\n                            <Nav className=\"ml-auto\" navbar>\r\n                                <NavItem>\r\n                                    <NavLink href=\"https://github.com/David-Shayne\">\r\n                                        Github\r\n                                    </NavLink>\r\n                                </NavItem>\r\n                                <NavItem>\r\n                                    <NavLink href=\"https://www.davidshayne.co.za\">\r\n                                        Portfolio\r\n                                    </NavLink>\r\n                                </NavItem>\r\n                            </Nav>\r\n                        </Collapse>\r\n                    </Container>\r\n                </Navbar>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default AppNavbar;\r\n","import { GET_USERS, LOADING, DELETE_USER, ADD_USER } from './types';\r\nimport Axios from 'axios';\r\n\r\nexport const getUsers = () => dispatch => {\r\n    dispatch(loading());\r\n    Axios.get('/api/users').then(res =>\r\n        dispatch({\r\n            type: GET_USERS,\r\n            payload: res.data\r\n        })\r\n    );\r\n};\r\n\r\nexport const loading = () => dispatch => {\r\n    dispatch({\r\n        type: LOADING\r\n    });\r\n};\r\n\r\nexport const deleteUser = _id => dispatch => {\r\n    Axios.delete(`/api/users/${_id}`).then(\r\n        dispatch({\r\n            type: DELETE_USER,\r\n            payload: _id\r\n        })\r\n    );\r\n};\r\n\r\nexport const addUser = user => dispatch => {\r\n    Axios.post('/api/users', user).then(res =>\r\n        dispatch({\r\n            type: ADD_USER,\r\n            payload: res.data\r\n        })\r\n    );\r\n};\r\n","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { Button, Container, Table, Spinner } from 'reactstrap';\r\nimport { getUsers, deleteUser } from '../actions/userActions';\r\n\r\nexport class UserList extends Component {\r\n    componentDidMount() {\r\n        this.props.getUsers();\r\n    }\r\n\r\n    render() {\r\n        const { users } = this.props.userState;\r\n\r\n        const list = users.map(user => (\r\n            <tr>\r\n                <td>{user.username}</td>\r\n                <td>{user.email}</td>\r\n                <td>{user.status}</td>\r\n                <td>{user._id}</td>\r\n                <td>\r\n                    <Button\r\n                        onClick={() => {\r\n                            this.props.deleteUser(user._id);\r\n                        }}\r\n                    >\r\n                        Delete\r\n                    </Button>\r\n                </td>\r\n            </tr>\r\n        ));\r\n\r\n        return (\r\n            <Container>\r\n                <Table style={{ marginTop: '1em' }} className=\"table-dark\">\r\n                    <Spinner\r\n                        hidden={!this.props.loading}\r\n                        style={{ margin: '1em' }}\r\n                    />\r\n                    <thead className=\"thead\">\r\n                        <tr>\r\n                            <th scope=\"col\">Username</th>\r\n                            <th scope=\"col\">Email</th>\r\n                            <th scope=\"col\">Status</th>\r\n                            <th scope=\"col\">ID</th>\r\n                            <th scope=\"col\">Remove</th>\r\n                        </tr>\r\n                    </thead>\r\n\r\n                    <tbody>{list}</tbody>\r\n                </Table>\r\n            </Container>\r\n        );\r\n    }\r\n}\r\n\r\nconst mapStoreToProps = store => ({\r\n    userState: store.userState,\r\n    loading: store.userState.loading\r\n});\r\n\r\nexport default connect(mapStoreToProps, { getUsers, deleteUser })(UserList);\r\n","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport {\r\n    Container,\r\n    Modal,\r\n    ModalHeader,\r\n    ModalBody,\r\n    Form,\r\n    FormGroup,\r\n    Label,\r\n    Input,\r\n    Button,\r\n    Alert\r\n} from 'reactstrap';\r\nimport { addUser } from '../actions/userActions';\r\n\r\nexport class UserModal extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            warningUsername: false,\r\n            isOpen: false,\r\n            status: 'Active',\r\n            email: '',\r\n            username: ''\r\n        };\r\n\r\n        // binding functions\r\n        this.toggle = this.toggle.bind(this);\r\n        this.onChange = this.onChange.bind(this);\r\n        this.submit = this.submit.bind(this);\r\n    }\r\n\r\n    // resets state to natural values, toggles isOpen for Modal\r\n    toggle = () => {\r\n        this.setState(state => ({\r\n            isOpen: !state.isOpen,\r\n            warningUsername: false,\r\n            warningEmail: false,\r\n            username: '',\r\n            status: 'Active',\r\n            email: ''\r\n        }));\r\n    };\r\n\r\n    onChange(e) {\r\n        this.setState({ [e.target.name]: e.target.value });\r\n    }\r\n\r\n    submit(e) {\r\n        e.preventDefault();\r\n\r\n        if (!this.state.username || hasWhitespace(this.state.username)) {\r\n            this.setState(state => ({\r\n                warningUsername: true\r\n            }));\r\n        } else if (!validateEmail(this.state.email)) {\r\n            this.setState({\r\n                warningEmail: true\r\n            });\r\n        } else {\r\n            this.props.addUser({\r\n                username: this.state.username,\r\n                status: this.state.status,\r\n                email: this.state.email.toLowerCase()\r\n            });\r\n            this.toggle();\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <Container>\r\n                <Button color=\"dark\" onClick={this.toggle}>\r\n                    Add User\r\n                </Button>\r\n\r\n                <Modal isOpen={this.state.isOpen} toggle={this.toggle}>\r\n                    <ModalHeader toggle={this.toggle}>\r\n                        Add a new User\r\n                    </ModalHeader>\r\n\r\n                    <Form>\r\n                        <ModalBody>\r\n                            <FormGroup>\r\n                                <Label for=\"username\">Username:</Label>\r\n                                <Input\r\n                                    name=\"username\"\r\n                                    type=\"text\"\r\n                                    className=\"form-control\"\r\n                                    onChange={this.onChange}\r\n                                    value={this.state.username}\r\n                                />\r\n                            </FormGroup>\r\n                            <Alert\r\n                                color=\"danger\"\r\n                                isOpen={this.state.warningUsername}\r\n                                toggle={() => {\r\n                                    this.setState({ warningUsername: false });\r\n                                }}\r\n                            >\r\n                                Please input a username without spaces\r\n                            </Alert>\r\n                            <FormGroup>\r\n                                <Label for=\"email\">Email:</Label>\r\n                                <Input\r\n                                    name=\"email\"\r\n                                    type=\"email\"\r\n                                    className=\"form-control\"\r\n                                    onChange={this.onChange}\r\n                                    value={this.state.email}\r\n                                />\r\n                            </FormGroup>\r\n                            <Alert\r\n                                color=\"danger\"\r\n                                isOpen={this.state.warningEmail}\r\n                                toggle={() => {\r\n                                    this.setState({ warningEmail: false });\r\n                                }}\r\n                            >\r\n                                Please input a valid email address\r\n                            </Alert>\r\n                            <FormGroup>\r\n                                <Label for=\"status\">Status:</Label>\r\n                                <Input\r\n                                    name=\"status\"\r\n                                    type=\"select\"\r\n                                    className=\"form-control\"\r\n                                    onChange={this.onChange}\r\n                                >\r\n                                    <option>Active</option>\r\n                                    <option>Inactive</option>\r\n                                </Input>\r\n                            </FormGroup>\r\n                            <FormGroup>\r\n                                <Button\r\n                                    type=\"submit\"\r\n                                    color=\"success\"\r\n                                    className=\"form-control\"\r\n                                    style={{\r\n                                        width: '50%',\r\n                                        marginTop: '1em',\r\n                                        fontSize: '110%'\r\n                                    }}\r\n                                    onClick={this.submit}\r\n                                >\r\n                                    Submit\r\n                                </Button>\r\n                            </FormGroup>\r\n                        </ModalBody>\r\n                    </Form>\r\n                </Modal>\r\n            </Container>\r\n        );\r\n    }\r\n}\r\n\r\nfunction validateEmail(email) {\r\n    var re = /^(([^<>()[\\]\\\\.,;:\\s@\\\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\\\"]+)*)|(\\\".+\\\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\r\n    return re.test(email);\r\n}\r\n\r\n// returns true if whitespace is detected\r\nconst hasWhitespace = string => {\r\n    if (string.indexOf(' ') !== -1) {\r\n        return true;\r\n    }\r\n    return false;\r\n};\r\n\r\nexport default connect(null, { addUser })(UserModal);\r\n","import React from 'react';\nimport { Provider } from 'react-redux';\nimport store from './store';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport AppNavbar from './components/AppNavbar';\nimport UserList from './components/UserList';\nimport UserModal from './components/UserModal';\n\nfunction App() {\n    return (\n        <div className=\"App\">\n            <Provider store={store}>\n                <AppNavbar />\n                <UserModal />\n                <UserList />\n            </Provider>\n        </div>\n    );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport App from './App';\n\nReactDOM.render(\n    <React.StrictMode>\n        <App />\n    </React.StrictMode>,\n    document.getElementById('root')\n);\n"],"sourceRoot":""}