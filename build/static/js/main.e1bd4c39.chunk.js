(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{44:function(e,t,a){e.exports=a(79)},79:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),l=a(12),s=a.n(l),c=a(17),o=a(41),i=a(13),u=a(42),m=a(43),p=a(11),E={users:[],loading:!1},d=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOADING":return Object(p.a)(Object(p.a)({},e),{},{loading:!0});case"GET_USERS":return Object(p.a)(Object(p.a)({},e),{},{users:t.payload,loading:!1});case"DELETE_USER":return Object(p.a)(Object(p.a)({},e),{},{users:e.users.filter((function(e){return e._id!==t.payload}))});case"ADD_USER":return Object(p.a)(Object(p.a)({},e),{},{users:[].concat(Object(m.a)(e.users),[t.payload])});default:return e}},h=Object(i.combineReducers)({userState:d}),g=[o.a],b=Object(i.createStore)(h,Object(u.composeWithDevTools)(i.applyMiddleware.apply(void 0,g))),f=(a(54),a(15)),O=a(16),v=a(19),y=a(18),j=a(80),S=a(81),k=a(82),C=a(83),U=a(84),w=a(85),D=a(86),A=a(87),N=function(e){Object(v.a)(a,e);var t=Object(y.a)(a);function a(){var e;Object(f.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={isOpen:!1},e.toggle=function(){e.setState({isOpen:!e.state.isOpen}),console.log(e.state.isOpen)},e}return Object(O.a)(a,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(j.a,{color:"dark",dark:!0,expand:"sm",className:"mb-5"},r.a.createElement(S.a,null,r.a.createElement(k.a,{href:"/"},"Admin Logs"),r.a.createElement(C.a,{onClick:this.toggle}),r.a.createElement(U.a,{isOpen:this.state.isOpen,navbar:!0},r.a.createElement(w.a,{className:"ml-auto",navbar:!0},r.a.createElement(D.a,null,r.a.createElement(A.a,{href:"https://github.com/David-Shayne"},"Github")),r.a.createElement(D.a,null,r.a.createElement(A.a,{href:"https://www.davidshayne.co.za"},"Portfolio")))))))}}]),a}(n.Component),_=a(88),R=a(89),T=a(90),G=a(22),I=a.n(G),L=function(){return function(e){e({type:"LOADING"})}},x=function(e){Object(v.a)(a,e);var t=Object(y.a)(a);function a(){return Object(f.a)(this,a),t.apply(this,arguments)}return Object(O.a)(a,[{key:"componentDidMount",value:function(){this.props.getUsers()}},{key:"render",value:function(){var e=this,t=this.props.userState.users.map((function(t){return r.a.createElement("tr",null,r.a.createElement("td",null,t.username),r.a.createElement("td",null,t.email),r.a.createElement("td",null,t.status),r.a.createElement("td",null,t._id),r.a.createElement("td",null,r.a.createElement(_.a,{onClick:function(){e.props.deleteUser(t._id)}},"Delete")))}));return r.a.createElement(S.a,null,r.a.createElement(R.a,{style:{marginTop:"1em"},className:"table-dark"},r.a.createElement(T.a,{hidden:!this.props.loading,style:{margin:"1em"}}),r.a.createElement("thead",{className:"thead"},r.a.createElement("tr",null,r.a.createElement("th",{scope:"col"},"Username"),r.a.createElement("th",{scope:"col"},"Email"),r.a.createElement("th",{scope:"col"},"Status"),r.a.createElement("th",{scope:"col"},"ID"),r.a.createElement("th",{scope:"col"},"Remove"))),r.a.createElement("tbody",null,t)))}}]),a}(n.Component),M=Object(c.b)((function(e){return{userState:e.userState,loading:e.userState.loading}}),{getUsers:function(){return function(e){e(L()),I.a.get("/api/users").then((function(t){return e({type:"GET_USERS",payload:t.data})}))}},deleteUser:function(e){return function(t){I.a.delete("/api/users/".concat(e)).then(t({type:"DELETE_USER",payload:e}))}}})(x),z=a(21),J=a(20),P=a(98),B=a(91),W=a(92),q=a(93),F=a(94),H=a(95),K=a(96),Q=a(97),V=function(e){Object(v.a)(a,e);var t=Object(y.a)(a);function a(e){var n;return Object(f.a)(this,a),(n=t.call(this,e)).toggle=function(){n.setState((function(e){return{isOpen:!e.isOpen,warning:!1,username:"",status:"Active",email:""}}))},n.state={warning:!1,isOpen:!1,status:"Active",email:"",username:""},n.toggle=n.toggle.bind(Object(J.a)(n)),n.onChange=n.onChange.bind(Object(J.a)(n)),n.submit=n.submit.bind(Object(J.a)(n)),n}return Object(O.a)(a,[{key:"onChange",value:function(e){this.setState(Object(z.a)({},e.target.name,e.target.value))}},{key:"submit",value:function(e){e.preventDefault(),this.state.username?(this.props.addUser({username:this.state.username,status:this.state.status,email:this.state.email}),this.toggle()):this.setState((function(e){return{warning:!0}}))}},{key:"render",value:function(){var e=this;return r.a.createElement(S.a,null,r.a.createElement(_.a,{color:"dark",onClick:this.toggle},"Add User"),r.a.createElement(P.a,{isOpen:this.state.isOpen,toggle:this.toggle},r.a.createElement(B.a,{toggle:this.toggle},"Add a new User"),r.a.createElement(W.a,null,r.a.createElement(q.a,null,r.a.createElement(F.a,null,r.a.createElement(H.a,{for:"username"},"Username:"),r.a.createElement(K.a,{name:"username",type:"text",className:"form-control",onChange:this.onChange,value:this.state.username})),r.a.createElement(Q.a,{color:"danger",isOpen:this.state.warning,toggle:function(){e.setState({warning:!1})}},"Error: Please add a username"),r.a.createElement(F.a,null,r.a.createElement(H.a,{for:"email"},"Email:"),r.a.createElement(K.a,{name:"email",type:"email",className:"form-control",onChange:this.onChange,value:this.state.email})),r.a.createElement(F.a,null,r.a.createElement(H.a,{for:"status"},"Status:"),r.a.createElement(K.a,{name:"status",type:"select",className:"form-control",onChange:this.onChange},r.a.createElement("option",null,"Active"),r.a.createElement("option",null,"Inactive"))),r.a.createElement(F.a,null,r.a.createElement(_.a,{type:"submit",color:"success",className:"form-control",style:{width:"50%",marginTop:"1em",fontSize:"110%"},onClick:this.submit},"Submit"))))))}}]),a}(n.Component),X=Object(c.b)(null,{addUser:function(e){return function(t){I.a.post("/api/users",e).then((function(e){return t({type:"ADD_USER",payload:e.data})}))}}})(V);var Y=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(c.a,{store:b},r.a.createElement(N,null),r.a.createElement(X,null),r.a.createElement(M,null)))};s.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(Y,null)),document.getElementById("root"))}},[[44,1,2]]]);
//# sourceMappingURL=main.e1bd4c39.chunk.js.map