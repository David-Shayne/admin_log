(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{44:function(e,t,a){e.exports=a(79)},79:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),l=a(12),s=a.n(l),c=a(17),i=a(41),o=a(13),u=a(42),m=a(43),p=a(11),E={users:[],loading:!1},h=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOADING":return Object(p.a)(Object(p.a)({},e),{},{loading:!0});case"GET_USERS":return Object(p.a)(Object(p.a)({},e),{},{users:t.payload,loading:!1});case"DELETE_USER":return Object(p.a)(Object(p.a)({},e),{},{users:e.users.filter((function(e){return e._id!==t.payload}))});case"ADD_USER":return Object(p.a)(Object(p.a)({},e),{},{users:[].concat(Object(m.a)(e.users),[t.payload])});default:return e}},d=Object(o.combineReducers)({userState:h}),g=[i.a],f=Object(o.createStore)(d,Object(u.composeWithDevTools)(o.applyMiddleware.apply(void 0,g))),b=(a(54),a(15)),O=a(16),v=a(19),y=a(18),j=a(80),S=a(81),w=a(82),U=a(83),C=a(84),k=a(85),A=a(86),D=a(87),N=function(e){Object(v.a)(a,e);var t=Object(y.a)(a);function a(){var e;Object(b.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={isOpen:!1},e.toggle=function(){e.setState({isOpen:!e.state.isOpen}),console.log(e.state.isOpen)},e}return Object(O.a)(a,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(j.a,{color:"dark",dark:!0,expand:"sm",className:"mb-5"},r.a.createElement(S.a,null,r.a.createElement(w.a,{href:"/"},"Admin Logs"),r.a.createElement(U.a,{onClick:this.toggle}),r.a.createElement(C.a,{isOpen:this.state.isOpen,navbar:!0},r.a.createElement(k.a,{className:"ml-auto",navbar:!0},r.a.createElement(A.a,null,r.a.createElement(D.a,{href:"https://github.com/David-Shayne"},"Github")),r.a.createElement(A.a,null,r.a.createElement(D.a,{href:"https://www.davidshayne.co.za"},"Portfolio")))))))}}]),a}(n.Component),_=a(88),R=a(89),T=a(90),L=a(22),G=a.n(L),I=function(){return function(e){e({type:"LOADING"})}},x=function(e){Object(v.a)(a,e);var t=Object(y.a)(a);function a(){return Object(b.a)(this,a),t.apply(this,arguments)}return Object(O.a)(a,[{key:"componentDidMount",value:function(){this.props.getUsers()}},{key:"render",value:function(){var e=this,t=this.props.userState.users.map((function(t){return r.a.createElement("tr",null,r.a.createElement("td",null,t.username),r.a.createElement("td",null,t.email),r.a.createElement("td",null,t.status),r.a.createElement("td",null,t._id),r.a.createElement("td",null,r.a.createElement(_.a,{onClick:function(){e.props.deleteUser(t._id)}},"Delete")))}));return r.a.createElement(S.a,null,r.a.createElement(R.a,{style:{marginTop:"1em"},className:"table-dark"},r.a.createElement(T.a,{hidden:!this.props.loading,style:{margin:"1em"}}),r.a.createElement("thead",{className:"thead"},r.a.createElement("tr",null,r.a.createElement("th",{scope:"col"},"Username"),r.a.createElement("th",{scope:"col"},"Email"),r.a.createElement("th",{scope:"col"},"Status"),r.a.createElement("th",{scope:"col"},"ID"),r.a.createElement("th",{scope:"col"},"Remove"))),r.a.createElement("tbody",null,t)))}}]),a}(n.Component),z=Object(c.b)((function(e){return{userState:e.userState,loading:e.userState.loading}}),{getUsers:function(){return function(e){e(I()),G.a.get("/api/users").then((function(t){return e({type:"GET_USERS",payload:t.data})}))}},deleteUser:function(e){return function(t){G.a.delete("/api/users/".concat(e)).then(t({type:"DELETE_USER",payload:e}))}}})(x),M=a(21),P=a(20),J=a(98),Z=a(91),B=a(92),W=a(93),$=a(94),q=a(95),F=a(96),H=a(97),K=function(e){Object(v.a)(a,e);var t=Object(y.a)(a);function a(e){var n;return Object(b.a)(this,a),(n=t.call(this,e)).toggle=function(){n.setState((function(e){return{isOpen:!e.isOpen,warningUsername:!1,warningEmail:!1,username:"",status:"Active",email:""}}))},n.state={warningUsername:!1,isOpen:!1,status:"Active",email:"",username:""},n.toggle=n.toggle.bind(Object(P.a)(n)),n.onChange=n.onChange.bind(Object(P.a)(n)),n.submit=n.submit.bind(Object(P.a)(n)),n}return Object(O.a)(a,[{key:"onChange",value:function(e){this.setState(Object(M.a)({},e.target.name,e.target.value))}},{key:"submit",value:function(e){var t;e.preventDefault(),!this.state.username||Q(this.state.username)?this.setState((function(e){return{warningUsername:!0}})):(t=this.state.email,/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(t)?(this.props.addUser({username:this.state.username,status:this.state.status,email:this.state.email.toLowerCase()}),this.toggle()):this.setState({warningEmail:!0}))}},{key:"render",value:function(){var e=this;return r.a.createElement(S.a,null,r.a.createElement(_.a,{color:"dark",onClick:this.toggle},"Add User"),r.a.createElement(J.a,{isOpen:this.state.isOpen,toggle:this.toggle},r.a.createElement(Z.a,{toggle:this.toggle},"Add a new User"),r.a.createElement(B.a,null,r.a.createElement(W.a,null,r.a.createElement($.a,null,r.a.createElement(q.a,{for:"username"},"Username:"),r.a.createElement(F.a,{name:"username",type:"text",className:"form-control",onChange:this.onChange,value:this.state.username})),r.a.createElement(H.a,{color:"danger",isOpen:this.state.warningUsername,toggle:function(){e.setState({warningUsername:!1})}},"Please input a username without spaces"),r.a.createElement($.a,null,r.a.createElement(q.a,{for:"email"},"Email:"),r.a.createElement(F.a,{name:"email",type:"email",className:"form-control",onChange:this.onChange,value:this.state.email})),r.a.createElement(H.a,{color:"danger",isOpen:this.state.warningEmail,toggle:function(){e.setState({warningEmail:!1})}},"Please input a valid email address"),r.a.createElement($.a,null,r.a.createElement(q.a,{for:"status"},"Status:"),r.a.createElement(F.a,{name:"status",type:"select",className:"form-control",onChange:this.onChange},r.a.createElement("option",null,"Active"),r.a.createElement("option",null,"Inactive"))),r.a.createElement($.a,null,r.a.createElement(_.a,{type:"submit",color:"success",className:"form-control",style:{width:"50%",marginTop:"1em",fontSize:"110%"},onClick:this.submit},"Submit"))))))}}]),a}(n.Component);var Q=function(e){return-1!==e.indexOf(" ")},V=Object(c.b)(null,{addUser:function(e){return function(t){G.a.post("/api/users",e).then((function(e){return t({type:"ADD_USER",payload:e.data})}))}}})(K);var X=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(c.a,{store:f},r.a.createElement(N,null),r.a.createElement(V,null),r.a.createElement(z,null)))};s.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(X,null)),document.getElementById("root"))}},[[44,1,2]]]);
//# sourceMappingURL=main.02be5597.chunk.js.map